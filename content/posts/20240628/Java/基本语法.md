---
title: "Java基础语法"
date: 2024-06-25T16:00:01+08:00
draft: false
tags:
  - Java
  - 基础语法
categories:
  - Java
  - 基础语法
---

## 基础知识

### 变量

减少内存的占用，CPU 直接指向内存中的变量，变量值可以随意更换，减少占用。

1. 变量的声明：

   数据类型 变量名 例如：String name

2. 变量的赋值：

   name="xxxx"

3. 变量的使用：

   直接访问变量名称

   注：使用变量前必须赋值即初始化

### 标识符

#### 命名规则：

- 英文
- 符号（允许\_ , $，其他都不行，属于特殊符号）
- 数字，不能作为开头
- 变量名不能重复，
- 区分大小写
- 关键字，保留字不能作为变量名（例如 public，static）
- 驼峰命名法

### 数据类型

#### 基本数据类型

##### 数值类型

1. ###### 整数类型（以存储大小不同划分）

   - byte：8 位
   - short：16 位
   - int：32 位
   - long：64

2. ###### 浮点类型（含有小数点的数据类型）

   - float：单精度浮点类型，数据需要以 F(f)结尾
   - double：双精度浮点类型

   注：

   1. 默认情况下，小数点的数据会被识别为精度较高的双精度 double 类型
   2. 单精度浮点数有效数字 8 位，在 32 位机器上用 4 个字节来存储，双精度浮点数有效数字 16 位，用 8 个字节来存储。

##### 字符类型

- ###### char:

  - 所谓的字符类型，其实就是使用符号标识文字内容
  - 一个汉字，一个数字，一个符号，对应字符表示 Unicode（万国码）编码表中的每一个符号，其中前 128 个符号和 ASCII 表相同

##### 布尔类型

- true/false,标识判断条件是否成立，如果成立，为 true，反之，则 false

#### 引用数据类型

1. 类，接口：传递的是变量的引用，赋值只是把原对象的引用传递给另一个引用，其对象本身的属性值并不会改变

2. String

3. 数组

4. 枚举

5. 特殊类型值：null

   #### String

6. 常见的转义字符包括：

- `\"` 表示字符`"`

- `\'` 表示字符`'`

- `\\` 表示字符`\`

- `\n` 表示换行符

- `\r` 表示回车符

- `\t` 表示 Tab

- `\u####` 表示一个 Unicode 编码的字符

  2.String 相关方法

| 方法                          | 描述                                            |
| ----------------------------- | ----------------------------------------------- |
| equals(String str)            | 比较字符串                                      |
| equalsIgnoreCase(String str)  | 忽略大小写比较                                  |
| length()                      | 长度                                            |
| toLowerCase()                 | 全部小写                                        |
| toUpperCase()                 | 全部大写                                        |
| concat()                      | 拼接字符串                                      |
| indexOf(String str)           | 第一个出现该字符或字符串的下标，没有则返回 -1   |
| lastIndexOf(String str)       | 最后一个出现该字符或字符串的下标，没有则返回 -1 |
| substring(int ind)            | 提取 ind 后的字符串                             |
| substring(int ind1, int ind2) | 提取 ind1 至 ind2 之间的字符串                  |
| trim()                        | 去除字符串两端空格                              |
| split(String str)             | 根据分隔符 str 拆分字符串                       |
| endsWith(String s)            | 是否以 s 结尾                                   |
| startWith(String s)           | 是否以 s 开头                                   |
| replace(s1, s2)               | 将 s1 替换成 s2                                 |
| s1.charAt(ind)                | 获取字符串 s1 下标为 ind 的字符                 |

#### 数据类型的转换

##### 正常转换

- byte → short → int → long → float → double

```java
//小范围数据类型可转换为大范围数据类型，反之不行
byte b = 10;
short s = b;
```

##### 强制类型转换

- 大范围 → 小范围

- 要注意，超出范围的强制转型会得到错误的结果，原因是转型时，`int`的两个高位字节直接被扔掉，仅保留了低位的两个字节

- ```java
  int i = (int)d；
  int i1 = 1234567;
  short s1 = (short) i1; // -10617
  int i2 = 12345678;
  short s2 = (short) i2; // 24910
  // 因此，强制转型的结果很可能是错的。
  ```

#### 数据格式化

| 占位符 | 说明                             |
| :----- | :------------------------------- |
| %d     | 格式化输出整数                   |
| %x     | 格式化输出十六进制整数           |
| %f     | 格式化输出浮点数                 |
| %e     | 格式化输出科学计数法表示的浮点数 |
| %s     | 格式化字符串                     |

注意，由于%表示占位符，因此，连续两个%%表示一个%字符本身。

```java
System.out.printf("Hi, %s, you are %d\n", name, age);
```

### 运算符：

#### 算术运算符

1. 二元运算符：+ - \* / %
   - 两个元素参与运算表达式，一元：一个元素参与运算表达式
2. 一元运算符：++,--
   - 自增自减，i++和++i 的区别，先赋值再计算和先计算再赋值（以输出举例）

#### 赋值运算符

- =， +=， -= ，\*=，/=，%=

#### 关系运算符

- == ，!=，>，>=，<=，<

#### 逻辑运算符

1. 逻辑运算符：& ，| ， ^， !
2. 短路运算符：&&，||
3. 或与非：
   - &&：短路与，只有第一个成立的情况下，才会判断第二个
   - ||：短路或，与或类似，减少 cpu 运算时间
   - !：非运算，相反运算

#### 移位运算

1. x << n 左移即二进制向前 n 位，补 0

```java
int n = 7 ;       // 00000000 00000000 00000000 00000111 = 7
int a = n << 1;  // 00000000 00000000 00000000 00001110 = 14
int b = n << 2;  // 00000000 00000000 00000000 00011100 = 28
int c = n << 28; // 01110000 00000000 00000000 00000000 = 1879048192
int d = n << 29; // 11100000 00000000 00000000 00000000 = -536870912
//最高位变成1，因此结果变成了负数
```

2.x >> n 右移即二进制向后 n 位，补 1

```java
int n = -536870912;
int a = n >> 1;  // 11110000 00000000 00000000 00000000 = -268435456
int b = n >> 2;  // 11111000 00000000 00000000 00000000 = -134217728
int c = n >> 28; // 11111111 11111111 11111111 11111110 = -2
int d = n >> 29; // 11111111 11111111 11111111 11111111 = -1
```

3.x>>>n 右移即二进制向后 n 位，补 0

```java
int n = -536870912;
int a = n >>> 1;  // 01110000 00000000 00000000 00000000 = 1879048192
int b = n >>> 2;  // 00111000 00000000 00000000 00000000 = 939524096
int c = n >>> 29; // 00000000 00000000 00000000 00000111 = 7
int d = n >>> 31; // 00000000 00000000 00000000 00000001 = 1
```

#### 位运算

1. & ：与运算的规则是，必须两个数同时为`1`，结果才为`1`

   ```java
   n = 0 & 0; // 0
   n = 0 & 1; // 0
   n = 1 & 0; // 0
   n = 1 & 1; // 1
   ```

2. |：或运算的规则是，只要任意一个为`1`，结果就为`1`

   ```java
   n = 0 | 0; // 0
   n = 0 | 1; // 1
   n = 1 | 0; // 1
   n = 1 | 1; // 1
   ```

3. ~非运算的规则是，`0`和`1`互换

   ```java
   n = ~0; // 1
   n = ~1; // 0
   ```

4. ^：异或运算的规则是，如果两个数不同，结果为`1`，否则为`0`：

````java
a = a ^ b; // a = a ^ b
b = a ^ b; // b =（a ^ b） ^ b = a ^ (b ^ b)=a ^0=a,
a = a ^ b; // a = a ^ b ^ a = b
/*
因此得出 a = b
性质：
1.任意一个变量X与其自身进行异或运算，结果为0，即X^X=0
2.任意一个变量X与0进行异或运算，结果不变，即X^0=X
3.异或运算具有可结合性，即a^b^c=（a^b）^c=a^（b^c）
4.异或运算具有可交换性，即a^b=b^a
*/

#### 三元运算符

- 所谓的三元运算符其实就是三个元素参与运算的运算符
- 基本语法结构:变量 = (条件表达式)? (任意表达式1): (任意表达式2)
- 运算规则:判断条件表达式的结果，如果为true，那么执行任意表达式1的值，如果为false，那么执行任意表达式2的值



#### 运算符的优先级

在Java的计算表达式中，运算优先级从高到低依次是：

- `()`
- `!` `~` `++` `--`
- `*` `/` `%`
- `+` `-`
- `<<` `>>` `>>>`
- `&`
- `|`
- `+=` `-=` `*=` `/=`

Tips：记不住也没关系，只需要加括号就可以保证运算的优先级正确。


### 流程控制

#### 顺序执行

​	代码出现的先后顺序以及语法的先后顺序

#### 分支执行

##### 单分支语句

- 判断:条件表达式的结果是否为true，如果为true，那么执行分支逻辑，如果为false，继续执行

- 判断的语法使用if关键字，表示如果，在条件表达式前使用。如果结果true，那么分支逻辑应该在后续的大括号中执行

##### 双分支语句（if……else……）

##### 多分支语句（if……else if……else）

##### 特殊分支结构（switch……case……）

1. switch语法会对数据进行判断，如果等于某一个分支数据的值，那么执行对应分支的逻辑代码
2. 如果一个分支都无法匹配，那么一个分支都不会执行，如果想要无法匹配也需要执行分支，那么可以增加default关键字
3. 如果执行某一个分支后，不想继续执行其他分支，那么可以使用break关键字，跳出分支结构

#### 重复执行（3种）

##### while：有条件的循环

1. 语法结构：while(条件表达式){需要循环的代码}
2. 执行原理：while循环会判断条件表达式的结果是否为true
1. 如果为false，跳出循环结构
2. 如果为true，会执行大括号里的逻辑代码，代码执行完毕后，会重新对条件表达式进行判断



##### do…while…

1. 语法结构：do{循环代码}while(条件表达式)
2. 执行原理：先执行循环代码再判断条件，如果不成立之后不执行



##### for语句

1. 语法结构：for(初始化表达式;条件表达式;更新表达式){循环的代码}
2. 执行原理：
1. 如果条件表达式返回结果为false，那么跳过循环语句，直接执行后续代码，如果返回结果为true，那么执行循环代码
2. 初始化表达式用于对条件表达式中使用到的变量进行初始化
3. 循环代码执行后，会重新进行条件表达式的判断，如果判断结果为true，会重复执行循环代码



#### switch语句

1.语法结构

```java
switch([condition]) {
 case [const1]:
     ……
 break; // 不写 break，则会继续执行下面的 case 中的语句，直到 break
 case [const2]:
     ……
 break;
 ……
 default: // 默认，都不符合时执行，可以和 case 位置颠倒，不受影响
     ……
 break;
}

````

##### continue 与 break

1. break 关键字直接会跳出循环，不再执行循环后续的操价
2. continue 关键字直接会跳过当前循环，执行下一次循环

### 数组

#### 1.数组的创建

```java
//定义一个数组类型的变量，使用数组类型“类型[]”，例如，int[]
int[] ns = new int[5];// 数组变量初始化必须使用new int[5]表示创建一个可容纳5个int元素的数组
ns[0] = 68;// 要访问数组中的某一个元素，需要使用索引。数组索引从0开始
ns[1] = 79;
ns[2] = 91;
ns[3] = 85;
ns[4] = 62;// 数组是引用类型，在使用索引访问数组元素时，如果索引超出范围，运行时将报错：
System.out.println(ns.length); // 可以用数组变量.length获取数组大小：
```

#### 2.数组特点：

- 数组所有元素初始化为默认值，整型都是`0`，浮点型是`0.0`，布尔型是`false`；
- 数组是**引用**类型，指向而不改变数组内容，一旦创建后，大小就不可改变。

#### 3.数组操作：

- 遍历：

  - `for`循环（能拿到索引值）

    ```java
    public static void main(String[] args) {
        int[] ns = { 1, 4, 9, 16, 25 };
        for (int i=0; i<ns.length; i++) {
            int n = ns[i];
            System.out.println(n);
        }
    }
    ```

  - for…each（简洁快速）

  ```java
  public static void main(String[] args) {
          int[] ns = { 1, 4, 9, 16, 25 };
          for (int n : ns) {
              System.out.println(n);
          }
      }
  ```

- 数组内容打印：Arrays.toString()

  ```java
  public class Main {
      public static void main(String[] args) {
          int[] ns = { 1, 1, 2, 3, 5, 8 };
          System.out.println(Arrays.toString(ns));
      }
  }
  ```

- 数组排序

```java
   // 冒泡排序
public static void main(String[] args) {
    int[] ns = { 28, 12, 89, 73, 65, 18, 96, 50, 8, 36 };
    // 排序前:
    System.out.println(Arrays.toString(ns));
    for (int i = 0; i < ns.length - 1; i++) {
        for (int j = 0; j < ns.length - i - 1; j++) {
            if (ns[j] > ns[j+1]) {
                // 交换ns[j]和ns[j+1]:
                int tmp = ns[j];
                ns[j] = ns[j+1];
                ns[j+1] = tmp;
            }
        }
    }
    // 排序后:
    System.out.println(Arrays.toString(ns));
}

	//Arrays.sort()
public static void main(String[] args) {
    int[] ns = { 28, 12, 89, 73, 65, 18, 96, 50, 8, 36 };
    Arrays.sort(ns);
    System.out.println(Arrays.toString(ns));
}
```

- 多维数组

  - 二维数组

    ```java
    public static void main(String[] args) {
        int[][] ns = {
            { 1, 2, 3, 4 },
            { 5, 6, 7, 8 },
            { 9, 10, 11, 12 }
        };
        System.out.println(ns.length); // 3
    	//访问二维数组的某个元素需要使用array[row][col]
        System.out.println(ns[1][2]); // 7
    }
    // 打印方法
    for (int[] arr : ns) {
        for (int n : arr) {
            System.out.print(n);
            System.out.print(', ');
        }
        System.out.println();
    }

    int[][] ns = {
        { 1, 2, 3, 4 },
        { 5, 6, 7, 8 },
        { 9, 10, 11, 12 }
    };
    System.out.println(Arrays.deepToString(ns));
    ```
